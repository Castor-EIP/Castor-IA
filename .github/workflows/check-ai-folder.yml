name: VÃ©rification du dossier AI

# DÃ©clencher l'action sur push et pull request vers main
on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

# Permettre l'exÃ©cution manuelle du workflow
  workflow_dispatch:

jobs:
  check-ai-folder:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout du code
      uses: actions/checkout@v4
      
    - name: VÃ©rifier la prÃ©sence du dossier 'ai'
      run: |
        echo "ğŸ” VÃ©rification de la prÃ©sence du dossier 'ai' Ã  la racine du repository..."
        
        if [ -d "ai" ]; then
          echo "âœ… Le dossier 'ai' est prÃ©sent Ã  la racine du repository"
          echo "ğŸ“ Contenu du dossier 'ai':"
          ls -la ai/
          exit 0
        else
          echo "âŒ ERREUR: Le dossier 'ai' n'est pas prÃ©sent Ã  la racine du repository"
          echo "ğŸ“‚ Structure actuelle de la racine:"
          ls -la
          exit 1
        fi
        
    - name: VÃ©rifier que le dossier 'ai' contient des fichiers
      run: |
        echo "ğŸ” VÃ©rification que le dossier 'ai' n'est pas vide..."
        
        if [ "$(ls -A ai)" ]; then
          echo "âœ… Le dossier 'ai' contient des fichiers"
          echo "ğŸ“‹ Liste des fichiers dans 'ai':"
          find ai -type f -name "*.py" | head -10
        else
          echo "âš ï¸  ATTENTION: Le dossier 'ai' est vide"
          exit 1
        fi
